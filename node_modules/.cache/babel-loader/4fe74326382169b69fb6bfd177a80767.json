{"ast":null,"code":"import _slicedToArray from \"C:\\\\Git\\\\my-money\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"C:\\\\Git\\\\my-money\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { useReducer, useEffect } from 'react';\nimport axios from 'axios';\nconst INITIAL_STATE = {\n  loading: false,\n  data: {}\n};\n\nconst reducer = (state, action) => {\n  if (action.type === 'REQUEST') {\n    return _objectSpread({}, state, {\n      loading: true\n    });\n  }\n\n  if (action.type === 'SUCCESS') {\n    return _objectSpread({}, state, {\n      loading: false,\n      data: action.data\n    });\n  }\n\n  return state;\n};\n\nconst init = baseURL => {\n  const useGet = resource => {\n    const _useReducer = useReducer(reducer, INITIAL_STATE),\n          _useReducer2 = _slicedToArray(_useReducer, 2),\n          data = _useReducer2[0],\n          dispatch = _useReducer2[1];\n\n    const carregar = async () => {\n      dispatch({\n        type: 'REQUEST'\n      });\n      const res = await axios.get(baseURL + resource + '.json');\n      dispatch({\n        type: 'SUCCESS',\n        data: res.data\n      });\n    };\n\n    useEffect(() => {\n      carregar();\n    }, [resource]);\n    return _objectSpread({}, data, {\n      refetch: carregar\n    });\n  };\n\n  const usePost = resource => {\n    const _useReducer3 = useReducer(reducer, INITIAL_STATE),\n          _useReducer4 = _slicedToArray(_useReducer3, 2),\n          data = _useReducer4[0],\n          dispatch = _useReducer4[1];\n\n    const post = async data => {\n      dispatch({\n        type: 'REQUEST'\n      });\n      const res = await axios.post(baseURL + resource + '.json', data);\n      dispatch({\n        type: 'SUCCESS',\n        data: res.data\n      });\n    };\n\n    return [data, post];\n  };\n\n  const useDelete = () => {\n    const _useReducer5 = useReducer(reducer, INITIAL_STATE),\n          _useReducer6 = _slicedToArray(_useReducer5, 2),\n          data = _useReducer6[0],\n          dispatch = _useReducer6[1];\n\n    const remove = async resource => {\n      dispatch({\n        type: 'REQUEST'\n      });\n      await axios.delete(baseURL + resource + '.json');\n      dispatch({\n        type: 'SUCCESS'\n      });\n    };\n\n    return [data, remove];\n  };\n\n  return {\n    useGet,\n    usePost,\n    useDelete\n  };\n};\n\nexport default init;","map":{"version":3,"sources":["C:\\Git\\my-money\\src\\Utils\\rest.js"],"names":["useReducer","useEffect","axios","INITIAL_STATE","loading","data","reducer","state","action","type","init","baseURL","useGet","resource","dispatch","carregar","res","get","refetch","usePost","post","useDelete","remove","delete"],"mappings":";;;;;;;AAAA,SAAQA,UAAR,EAAoBC,SAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,MAAMC,aAAa,GAAE;AACjBC,EAAAA,OAAO,EAAE,KADQ;AAEjBC,EAAAA,IAAI,EAAE;AAFW,CAArB;;AAMA,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAOC,MAAP,KAAiB;AAC7B,MAAGA,MAAM,CAACC,IAAP,KAAe,SAAlB,EAA4B;AAC1B,6BACGF,KADH;AAEAH,MAAAA,OAAO,EAAE;AAFT;AAID;;AACA,MAAGI,MAAM,CAACC,IAAP,KAAgB,SAAnB,EAA8B;AAC5B,6BACIF,KADJ;AAECH,MAAAA,OAAO,EAAE,KAFV;AAGCC,MAAAA,IAAI,EAACG,MAAM,CAACH;AAHb;AAMD;;AACA,SAAOE,KAAP;AACA,CAhBN;;AAiBK,MAAMG,IAAI,GAAGC,OAAO,IAAI;AACrB,QAAMC,MAAM,GAAGC,QAAQ,IAAI;AAAA,wBACEb,UAAU,CAACM,OAAD,EAASH,aAAT,CADZ;AAAA;AAAA,UAChBE,IADgB;AAAA,UACVS,QADU;;AAEvB,UAAMC,QAAQ,GAAG,YAAU;AACzBD,MAAAA,QAAQ,CAAC;AAACL,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAR;AACD,YAAMO,GAAG,GAAG,MAAMd,KAAK,CAACe,GAAN,CAAUN,OAAO,GAAGE,QAAV,GAAoB,OAA9B,CAAlB;AACAC,MAAAA,QAAQ,CAAC;AAACL,QAAAA,IAAI,EAAE,SAAP;AAAiBJ,QAAAA,IAAI,EAAEW,GAAG,CAACX;AAA3B,OAAD,CAAR;AAEA,KALD;;AAMKJ,IAAAA,SAAS,CAAC,MAAK;AACfc,MAAAA,QAAQ;AACT,KAFU,EAET,CAACF,QAAD,CAFS,CAAT;AAIL,6BAAYR,IAAZ;AACEa,MAAAA,OAAO,EAAEH;AADX;AAGD,GAfH;;AAgBG,QAAMI,OAAO,GAAGN,QAAQ,IAAI;AAAA,yBACFb,UAAU,CAACM,OAAD,EAASH,aAAT,CADR;AAAA;AAAA,UACpBE,IADoB;AAAA,UACdS,QADc;;AAEzB,UAAMM,IAAI,GAAG,MAAMf,IAAN,IAAe;AACzBS,MAAAA,QAAQ,CAAC;AAACL,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAR;AACF,YAAMO,GAAG,GAAG,MAAMd,KAAK,CAACkB,IAAN,CAAWT,OAAO,GAACE,QAAR,GAAiB,OAA5B,EAAqCR,IAArC,CAAlB;AACAS,MAAAA,QAAQ,CAAC;AACRL,QAAAA,IAAI,EAAE,SADE;AAERJ,QAAAA,IAAI,EAAEW,GAAG,CAACX;AAFF,OAAD,CAAR;AAIA,KAPD;;AAUF,WAAO,CAACA,IAAD,EAAOe,IAAP,CAAP;AACA,GAbD;;AAeA,QAAMC,SAAS,GAAG,MAAM;AAAA,yBACErB,UAAU,CAACM,OAAD,EAASH,aAAT,CADZ;AAAA;AAAA,UAChBE,IADgB;AAAA,UACVS,QADU;;AAEvB,UAAMQ,MAAM,GAAG,MAAMT,QAAN,IAAmB;AAC7BC,MAAAA,QAAQ,CAAC;AAACL,QAAAA,IAAI,EAAC;AAAN,OAAD,CAAR;AACF,YAAMP,KAAK,CACVqB,MADK,CACEZ,OAAO,GAACE,QAAR,GAAiB,OADnB,CAAN;AAECC,MAAAA,QAAQ,CACP;AAACL,QAAAA,IAAI,EAAE;AAAP,OADO,CAAR;AAKD,KATH;;AAWA,WAAO,CAACJ,IAAD,EAAMiB,MAAN,CAAP;AACA,GAdD;;AAsBF,SAAO;AACHV,IAAAA,MADG;AAEHO,IAAAA,OAFG;AAGHE,IAAAA;AAHG,GAAP;AAKH,CA3DD;;AA8DD,eAAeX,IAAf","sourcesContent":["import {useReducer, useEffect} from 'react'\r\nimport axios from 'axios'\r\n\r\nconst INITIAL_STATE ={\r\n    loading: false,\r\n    data: {}\r\n  }\r\n\r\n\r\nconst reducer = (state,action)=> {\r\n    if(action.type ==='REQUEST'){\r\n      return{\r\n      ...state,\r\n      loading: true\r\n     }\r\n    }\r\n     if(action.type === 'SUCCESS') {\r\n       return{\r\n        ...state,\r\n        loading: false,\r\n        data:action.data\r\n       }\r\n    \r\n     }\r\n      return state\r\n     }\r\n     const init = baseURL => {\r\n        const useGet = resource => {\r\n            const [data, dispatch] = useReducer(reducer,INITIAL_STATE)\r\n            const carregar = async() =>{\r\n              dispatch({type:'REQUEST'})\r\n             const res = await axios.get(baseURL + resource +'.json')\r\n             dispatch({type: 'SUCCESS',data: res.data})\r\n           \r\n            }\r\n                 useEffect(()=> {\r\n                 carregar()       \r\n               },[resource])\r\n          \r\n            return {... data,\r\n              refetch: carregar\r\n           } \r\n          }\r\n           const usePost = resource => {\r\n            const [data, dispatch] = useReducer(reducer,INITIAL_STATE)\r\n              const post = async(data) => {\r\n                 dispatch({type:'REQUEST'})\r\n               const res = await axios.post(baseURL+resource+'.json', data)\r\n               dispatch({\r\n                type: 'SUCCESS',\r\n                data: res.data\r\n              })\r\n              }\r\n              \r\n          \r\n            return [data, post]\r\n           }\r\n\r\n           const useDelete = () => {\r\n            const [data, dispatch] = useReducer(reducer,INITIAL_STATE)\r\n            const remove = async(resource) => {\r\n                 dispatch({type:'REQUEST'})\r\n               await axios\r\n               .delete(baseURL+resource+'.json')\r\n                dispatch\r\n                ({type: 'SUCCESS',\r\n                \r\n              })\r\n           \r\n              }\r\n          \r\n            return [data,remove]\r\n           }     \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n         return {\r\n             useGet,\r\n             usePost,\r\n             useDelete\r\n         }\r\n     }\r\n        \r\n    \r\n    export default init"]},"metadata":{},"sourceType":"module"}